# تقرير مفصل عن جميع الصفحات وEndpoints في نظام إدارة القاعات

---

## 1. صفحات المستخدم والزوار (Public/User Endpoints)

### الصفحة الرئيسية
- **المسار:** `/`
- **الوصف:** تعرض ملخصًا عن النظام، الفئات، القاعات المميزة، والحجوزات الحديثة.
- **المحتوى:**
  - قائمة مختصرة بالفئات.
  - سلايدر أو شبكة للقاعات المميزة (مع صور وأسعار).
  - ملخص الحجوزات الأخيرة.
  - أزرار سريعة: استعرض القاعات، تواصل معنا.
- **الصلاحيات:** متاحة للجميع.

---

### قائمة القاعات
- **المسار:** `/halls/`
- **الوصف:** عرض جميع القاعات مع إمكانية البحث والتصفية حسب الفئة أو الاسم.
- **المحتوى:**
  - قائمة القاعات (اسم، صورة، سعة، سعر، حالة).
  - شريط بحث.
  - قائمة منسدلة للفئات.
  - زر تفاصيل القاعة.
- **الصلاحيات:** متاحة للجميع.

---

### تفاصيل القاعة
- **المسار:** `/hall/<int:hall_id>/`
- **الوصف:** عرض جميع تفاصيل القاعة المختارة.
- **المحتوى:**
  - اسم القاعة، الوصف، السعة، السعر، المميزات.
  - سلايدر صور (مع دعم Lightbox).
  - جدول الحجوزات القادمة.
  - نموذج تحقق من التوفر (تاريخ/وقت).
  - زر حجز القاعة.
- **الصلاحيات:** متاحة للجميع (الحجز قد يتطلب تسجيل دخول).

---

### نموذج حجز القاعة
- **المسار:** `/hall/<int:hall_id>/book/`
- **الوصف:** نموذج حجز القاعة المختارة.
- **المحتوى:**
  - حقول: اسم العميل، البريد، الهاتف، عنوان الحدث، وصف الحدث، التاريخ/الوقت، عدد الحضور.
  - زر إرسال الطلب.
  - رسائل نجاح/خطأ.
- **الصلاحيات:** يفضل تسجيل الدخول.

---

### صفحة تواصل معنا
- **المسار:** `/contact/`
- **الوصف:** نموذج إرسال رسالة للإدارة.
- **المحتوى:**
  - حقول: الاسم، البريد، الرسالة.
  - زر إرسال.
  - رسائل نجاح/خطأ.
- **الصلاحيات:** متاحة للجميع.

---

### صفحة من نحن
- **المسار:** `/about/`
- **الوصف:** معلومات عن النظام أو الشركة.
- **المحتوى:** نص تعريفي، صور، روابط تواصل.
- **الصلاحيات:** متاحة للجميع.

---

### التحقق من توفر القاعة (API)
- **المسار:** `/api/check-availability/`
- **الوصف:** Endpoint (POST/AJAX) للتحقق من توفر القاعة في وقت معين.
- **المحتوى:**
  - يستقبل: hall_id, start_datetime, end_datetime.
  - يرجع: متاح/غير متاح + رسالة.
- **الصلاحيات:** متاحة للجميع (للاستخدام من الواجهات).

---

## 2. صفحات الإدارة (Admin/Dashboard Endpoints)

### لوحة الإدارة الرئيسية
- **المسار:** `/dashboard/`
- **الوصف:** تعرض إحصائيات وملخصات سريعة عن النظام.
- **المحتوى:**
  - إحصائيات: إجمالي القاعات، الحجوزات، المستخدمين، الإيرادات.
  - رسم بياني للحجوزات الشهرية.
  - روابط سريعة لإدارة القاعات، الحجوزات، الرسائل، التقارير.
- **الصلاحيات:** فقط للمدراء (is_staff).

---

### إدارة القاعات
- **المسار:** `/dashboard/halls/`
- **الوصف:** عرض جميع القاعات مع خيارات البحث والتصفية.
- **المحتوى:**
  - جدول القاعات (اسم، فئة، حالة، سعة، سعر).
  - أزرار: إضافة قاعة، تعديل، حذف.
  - بحث وتصفية بالفئة والحالة.
- **الصلاحيات:** فقط للمدراء.

### إضافة قاعة
- **المسار:** `/dashboard/halls/create/`
- **الوصف:** نموذج إضافة قاعة جديدة.
- **المحتوى:**
  - جميع حقول القاعة (اسم، وصف، سعة، سعر، صورة، مميزات، فئة).
  - رفع عدة صور (gallery).
  - زر حفظ.
- **الصلاحيات:** فقط للمدراء.

### تعديل قاعة
- **المسار:** `/dashboard/halls/<int:hall_id>/edit/`
- **الوصف:** نموذج تعديل بيانات القاعة.
- **المحتوى:** نفس حقول الإضافة مع تحميل البيانات الحالية.
- **الصلاحيات:** فقط للمدراء.

### حذف قاعة
- **المسار:** `/dashboard/halls/<int:hall_id>/delete/`
- **الوصف:** تأكيد حذف القاعة.
- **المحتوى:** رسالة تأكيد وزر حذف نهائي.
- **الصلاحيات:** فقط للمدراء.

---

### إدارة الحجوزات
- **المسار:** `/dashboard/bookings/`
- **الوصف:** عرض جميع الحجوزات مع خيارات البحث والتصفية.
- **المحتوى:**
  - جدول الحجوزات (رقم، قاعة، عميل، حالة، تاريخ، سعر).
  - أزرار: تفاصيل، حذف.
  - بحث وتصفية بالحالة والقاعة.
- **الصلاحيات:** فقط للمدراء.

### تفاصيل حجز
- **المسار:** `/dashboard/bookings/<int:booking_id>/`
- **الوصف:** عرض تفاصيل الحجز.
- **المحتوى:** جميع بيانات الحجز مع إمكانية تغيير الحالة.
- **الصلاحيات:** فقط للمدراء.

### حذف حجز
- **المسار:** `/dashboard/bookings/<int:booking_id>/delete/`
- **الوصف:** تأكيد حذف الحجز.
- **المحتوى:** رسالة تأكيد وزر حذف نهائي.
- **الصلاحيات:** فقط للمدراء.

---

### إدارة رسائل التواصل
- **المسار:** `/dashboard/contacts/`
- **الوصف:** عرض جميع رسائل التواصل.
- **المحتوى:**
  - جدول الرسائل (اسم، بريد، نص الرسالة، حالة القراءة).
  - أزرار: تفاصيل، حذف.
- **الصلاحيات:** فقط للمدراء.

### تفاصيل رسالة
- **المسار:** `/dashboard/contacts/<int:contact_id>/`
- **الوصف:** عرض تفاصيل الرسالة.
- **المحتوى:** جميع بيانات الرسالة مع إمكانية تغيير حالة القراءة.
- **الصلاحيات:** فقط للمدراء.

### حذف رسالة
- **المسار:** `/dashboard/contacts/<int:contact_id>/delete/`
- **الوصف:** تأكيد حذف الرسالة.
- **المحتوى:** رسالة تأكيد وزر حذف نهائي.
- **الصلاحيات:** فقط للمدراء.

---

### التقارير والإحصائيات
- **المسار:** `/dashboard/reports/`
- **الوصف:** صفحة تقارير متقدمة وإحصائيات مفصلة.
- **المحتوى:**
  - إحصائيات الحجوزات (حسب الحالة والشهر).
  - إحصائيات القاعات (متاحة، صيانة، محجوزة).
  - إحصائيات الرسائل (مقروءة/غير مقروءة).
- **الصلاحيات:** فقط للمدراء.

---

### إدارة المستخدمين
- **المسار:** `/dashboard/users/`
- **الوصف:** عرض جميع المستخدمين مع بحث وترقيم وإحصائيات.
- **المحتوى:**
  - جدول المستخدمين (اسم، بريد، حالة، دور).
  - أزرار: تفاصيل، تعديل، حذف، إضافة مستخدم.
  - إحصائيات سريعة (إجمالي، مدراء، نشطين، غير نشطين).
- **الصلاحيات:** فقط للمدراء.

### إضافة مستخدم
- **المسار:** `/dashboard/users/create/`
- **الوصف:** نموذج إضافة مستخدم جديد.
- **المحتوى:**
  - حقول: اسم، بريد، كلمة مرور، دور، حالة، أفاتار تلقائي.
  - زر حفظ.
- **الصلاحيات:** فقط للمدراء.

### تعديل مستخدم
- **المسار:** `/dashboard/users/<int:user_id>/edit/`
- **الوصف:** نموذج تعديل بيانات المستخدم.
- **المحتوى:** نفس حقول الإضافة مع تحميل البيانات الحالية.
- **الصلاحيات:** فقط للمدراء.

### حذف مستخدم
- **المسار:** `/dashboard/users/<int:user_id>/delete/`
- **الوصف:** تأكيد حذف المستخدم.
- **المحتوى:** رسالة تأكيد وزر حذف نهائي.
- **الصلاحيات:** فقط للمدراء.

### تفاصيل مستخدم
- **المسار:** `/dashboard/users/<int:user_id>/`
- **الوصف:** عرض جميع بيانات المستخدم مع أفاتار تلقائي.
- **المحتوى:** اسم، بريد، حالة، دور، تاريخ التسجيل، صورة أفاتار.
- **الصلاحيات:** فقط للمدراء.

---

## 3. صفحات المصادقة (Authentication Endpoints)

### صفحة ترحيب المصادقة
- **المسار:** `/auth/`
- **الوصف:** صفحة ترحيب بنظام المصادقة (اختيار تسجيل دخول أو تسجيل جديد).
- **المحتوى:** أزرار تنقل بين تسجيل الدخول والتسجيل.
- **الصلاحيات:** متاحة للجميع.

### تسجيل الدخول (خطوتان)
- **المسار:** `/auth/login/step1/` و `/auth/login/step2/`
- **الوصف:** تسجيل الدخول عبر البريد أو اسم المستخدم (step1)، ثم كلمة المرور (step2).
- **المحتوى:**
  - step1: حقل بريد أو اسم مستخدم.
  - step2: حقل كلمة مرور.
  - رسائل خطأ/نجاح.
- **الصلاحيات:** متاحة للجميع.

### تسجيل حساب جديد (ثلاث خطوات)
- **المسار:** `/auth/register/step1/`, `/auth/register/step2/`, `/auth/register/step3/`
- **الوصف:** تسجيل حساب جديد بخطوات متتالية (بيانات أساسية، كلمة مرور، تأكيد).
- **المحتوى:**
  - step1: بريد، اسم مستخدم (اختياري)، تحقق من التكرار.
  - step2: كلمة مرور وتأكيدها.
  - step3: ملخص وتأكيد التسجيل.
- **الصلاحيات:** متاحة للجميع.

### استعادة كلمة المرور
- **المسار:** `/auth/forgot-password/`
- **الوصف:** نموذج استعادة كلمة المرور عبر البريد.
- **المحتوى:** حقل بريد إلكتروني، زر إرسال.
- **الصلاحيات:** متاحة للجميع.

### تسجيل الخروج
- **المسار:** `/auth/logout/`
- **الوصف:** تسجيل الخروج من النظام.
- **المحتوى:** إعادة توجيه للصفحة الرئيسية أو المصادقة.
- **الصلاحيات:** للمستخدمين المسجلين فقط.

### ملف المستخدم الشخصي
- **المسار:** `/auth/profile/`
- **الوصف:** عرض وتعديل بيانات المستخدم الشخصية.
- **المحتوى:** اسم، بريد، أفاتار، تغيير كلمة المرور.
- **الصلاحيات:** للمستخدمين المسجلين فقط.

### تغيير كلمة المرور
- **المسار:** `/auth/change-password/`
- **الوصف:** نموذج تغيير كلمة المرور.
- **المحتوى:** كلمة المرور القديمة، الجديدة، تأكيد.
- **الصلاحيات:** للمستخدمين المسجلين فقط.

### اختصارات
- **المسار:** `/login/` و `/register/`
- **الوصف:** اختصارات لمسارات تسجيل الدخول والتسجيل.
- **الصلاحيات:** متاحة للجميع.

---

## 4. لوحة الإدارة الافتراضية (Django Admin)

- **المسار:** `/admin/`
- **الوصف:** لوحة إدارة Django الافتراضية (Jazzmin)، لإدارة جميع النماذج (القاعات، الحجوزات، المستخدمين، الرسائل، الفئات...).
- **الصلاحيات:** فقط للمدراء (superuser/staff).

---

## ملاحظات عامة
- جميع صفحات الإدارة تتطلب صلاحية staff (مدير).
- بعض Endpoints (مثل check_availability) مخصصة للاستخدام عبر AJAX أو API.
- جميع الصفحات تدعم التحقق من الصلاحيات وإظهار رسائل الخطأ المناسبة.
- جميع النماذج تدعم رسائل النجاح/الخطأ والتوجيه المناسب بعد العمليات.

---

> هذا التقرير يغطي كل صفحة وEndpoint في النظام مع تفاصيل الحقول، الأزرار، الصلاحيات، والملاحظات الخاصة. إذا رغبت في إضافة أمثلة صور أو لقطات شاشة لكل صفحة، أخبرني بذلك! 